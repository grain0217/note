### 什么是Data-URI？
`DaTa-URI`是指可以在 Web 页面中包含图片但**无需任何额外的HTTP请求的一类URI**。也就是说，它是表示图片的一种方式。例如，在google主页，可以发现搜索框右侧的话筒图就是用`Data-URI`表示的：
```css
.gsri_a {
  background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACrElEQ…2iTnbwNT+gBX54H+IaXAtxJzE3ycSAFqSAFJACUkAikXD+AHj5/wx2o5osAAAAAElFTkSuQmCC) no-repeat -3px 0;
}
```
url中这一串编码就是`Data-URI`，标准`Data-URI` 的格式如下所示：
```html
  data:[<mime type>][;charset=<charset>][;base64],<encoded data>
```

先不谈这个`base64`编码的过程，图片的表示形式折腾成这样了究竟有什么好处——很显然，减少了HTTP请求。通常图片的表示形式是img标签的`src`属性值是一段url，每个`src`都会使浏览器向资源服务端发起一次HTTP请求。`Data-URI`技术将图片编码成base64，然后**在浏览器端完成解码**，这样也就不需要多余的HTTP请求了，弊端也有：

- 图片`base64`编码后的数据体积通常是原始数据体积的**4/3**
- 不利于懒加载
- IE6/7/8不识别
- 解码消耗CPU，移动端不宜使用

### 什么是base64编码？
所谓base64编码就是从`ASCII码表`中选取64个可打印字符作为基本字符集**对其它字符进行编码转换**。

而`ASCII码表`一共128个编码中字符，其中33个为控制字符，95个为可打印字符，所以选择其中64个（包含大小写字母26个：A-Z，a-z，数字10个：0-9，2个特殊字符：+/）是合理的，当然也有base32、base16，但是没有base128。

### base64编码过程
- 源字符串以3个字节为一组，这样每组 3 * 8 = 24 个二进制位
- 对于上一步的每个分组，24个二进制位按照每6位一组继续分组，形成4个小组
- 在每个小组前补两位0，形成新的8位一个小组，即一个字节，这样最初的每个组3个字节变成了每个组4个字节
- 按照从`ASCII码表`选取的64个可见字符构造的索引表，获取对应的值，形成base64编码。

以`"Man"`为例，

|文本|M|a|n||
|---|---|---|---|---|
|ASCII码|77|97|110||
|二进制|01001101|01100001|01101110||
|分组|010011|010110|000101|101110|
|补零|00 010011|00 010110|00 000101|00 101110|
|索引|19|22|5|46|
|base64编码|T|W|F|u|
